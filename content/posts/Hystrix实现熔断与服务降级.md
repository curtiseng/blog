---
title: Hystrix实现熔断与服务降级
date: 2018-05-15 10:20:50
tags: [HYSTRIX]
---

> Hystrix使用命令模式与线程池（或者信号量）实现了断路器、线程隔离和服务降级，提高了服务容错能力。

#### 一、可用降级场景

+ 超时降级
+ 故障降级
+ 读服务降级
+ 写服务降级
+ 多级降级
+ 密集数据流错误备份降级
+ 人工降级（使用配置文件）

#### 二、Hystrix触发降级的4种情况

+ run()方法抛出非HystrixBadRequestException异常
+ run()方法调用超时
+ 线程池/队列/信号量跑满
+ 熔断器开启拦截调用

#### 三、熔断包装与执行方式（?）

+ 同步
+ 异步
+ 响应式
+ spring-hystrix

#### 四、熔断打开/恢复条件

+ 请求总数（QPS）超过线程池预设总数
+ 错误百分比超过阀值范围
+ 满足上面两个条件断路器处于打开状态

#### 五、其他能力

+ 线程池分组命名
+ 请求缓存
+ 请求合并
+ 定制触发异常
+ 全局配置与局部配置
+ 监控分析

####六、feign-hystrix

#### 七、zuul-hystrix

#### 八、常用配置

#### 九、Hystrix原理